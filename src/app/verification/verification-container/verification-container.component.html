<app-verificatio-nbar [verifStep]="verificationStep"></app-verificatio-nbar>
<div class="document-preview">

<!-- <img *ngIf="!useCamera" src="../../../assets/identity.png"> -->

<div *ngIf="!useCamera" class="document-preview">

  <img class="card-elemment" src='../../../assets/img/phone.png' *ngIf="verificationStep==0"/>
  <img class="card-elemment" src='../../../assets/img/temp.png' *ngIf="verificationStep==1"/>

  <img class="card-elemment" src='../../../assets/img/identity.png' *ngIf="verificationStep==2"/>
  <img class="card-elemment" src='../../../assets/img/temp.png' *ngIf="verificationStep==3"/>

  <form [formGroup]="CarForm" (ngSubmit)="postCardata();nextVerif()" class="card-elemment-form " *ngIf="verificationStep==4">
    <div class="relative z-0 mb-6 w-full group">
      <input formControlName="CarBrand" type="text" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" class="block py-2.5 px-0 w-full text-sm text-black bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-black dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " required />
      <label for="CarBrand" class="peer-focus:font-medium absolute text-sm text-black dark:text-black duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Car Brand</label>
  </div>
  <div class="relative z-0 mb-6 w-full group">
    <input formControlName="CarModel" type="text" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"  class="block py-2.5 px-0 w-full text-sm text-black bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-black dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " required />
    <label for="CarModel" class="peer-focus:font-medium absolute text-sm text-black dark:text-black duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Car Model</label>
</div>
<div class="relative z-0 mb-6 w-full group bg-white">
  <input dir="rtl" formControlName="CarNum" type="text" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"  class="block py-2.5 px-0 w-full text-sm text-black bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-black dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " required />
  <label for="CarNum" class="peer-focus:font-medium absolute text-sm text-black dark:text-black duration-300 transform -translate-y-6 scale-75 top-3 left-2/4 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">CarNumber/رقم السيارة</label>
</div>
<div class="relative z-0 mb-6 w-full group">
  <input formControlName="CarCap" type="text" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"  class="block py-2.5 px-0 w-full text-sm text-black bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-black dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " required />
  <label for="CarCap" class="peer-focus:font-medium absolute text-sm text-black dark:text-black duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Car Capacity</label>
</div>
    <button type="submit" class="w-40 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Submit</button>

</form>

  <img class="card-elemment" src='../../../assets/img/carownership.png' *ngIf="verificationStep==5"/>
  <img class="card-elemment" src='../../../assets/img/temp.png'  *ngIf="verificationStep==6"/>

</div>

<div *ngIf="verificationStep==0" class="phone-number-verif-box">
  <input [formControl]="code" id="code" type="text" placeholder="Tappez votre numero">
  <button (click)="nextVerif()" class="ml-64 mt-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Check</button>

  </div>


    <div *ngIf="webcamImage &&snapshotPreview" class="webcam-image snapshot-preview"  >

        <img [src]="webcamImage.imageAsDataUrl" class="webcam-image"   >

        <div class="image-confirm-button" (click)="upload()"><button>Confirmer?</button></div>
        <div class="image-retake-button"><button>retake?</button></div>
     </div>


    <app-camera (getPicture)="handleImage($event)" *ngIf="(useCamera)" ></app-camera>


    <!--<button  (click)="toggleCamera(!useCamera)" class="bg-red-400" *ngIf="!useCamera">prendre une photo</button>
    <button  (click)="toggleCamera(!useCamera)" class="bg-green-400" *ngIf="useCamera">uploader</button>-->
    <button (click)="toggleUseCamera()" class="start-camera" *ngIf="!useCamera&&(verificationStep==2||verificationStep==5)"  >Commencer <i class="bi bi-camera"></i></button>
    </div>

<!--
    <div>
        <h1>here {{useCamera}}</h1>

    <button (click)="toggleUseCamera()" class="start-camera" *ngIf="!useCamera&&(verificationStep==2||verificationStep==4)"  >Commencer <i class="bi bi-camera"></i></button>
    <button (click)="nextVerif()"> Next step {{verificationStep}}</button>


</div>
-->
